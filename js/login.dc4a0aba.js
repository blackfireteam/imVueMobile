(window.webpackJsonp=window.webpackJsonp||[]).push([["login"],{"4ffd":function(e,t,n){e.exports=n.p+"img/logo.dc3be0d4.png"},a583:function(e,t,n){"use strict";n("f717")},bef0:function(e,t,n){e.exports=n.p+"img/login_bg.e6f0a1db.jpg"},dd1d:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),i=n("4ffd"),c=n.n(i),a=Object(o.N)("data-v-bd6743e8");Object(o.z)("data-v-bd6743e8");var l={class:"login_wrapper"},s={class:"login_cont"},r=Object(o.i)("div",{class:"row_div",style:{width:"100%",height:"10px"}},[Object(o.i)("div",{class:"color_block_1"}),Object(o.i)("div",{class:"color_block_2"}),Object(o.i)("div",{class:"color_block_3"})],-1),d=Object(o.i)("div",{class:"title"},"即时通信",-1),u=Object(o.i)("img",{src:c.a,class:"logo"},null,-1),b={class:"login_body"},f=Object(o.h)("登录"),p=Object(o.h)("注册");Object(o.x)();var g=a((function(e,t,i,c,g,j){var O=Object(o.D)("van-image"),m=Object(o.D)("van-field"),v=Object(o.D)("van-button"),w=Object(o.D)("van-cell"),I=Object(o.D)("van-cell-group");return Object(o.w)(),Object(o.f)("div",l,[Object(o.i)(O,{class:"bg",fit:"cover","lazy-load":"",src:n("bef0")},null,8,["src"]),Object(o.i)("div",s,[r,d,u,Object(o.i)("div",b,[Object(o.i)(I,{inset:""},{default:a((function(){return[Object(o.i)(m,{modelValue:c.data.userId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.data.userId=e}),type:"tel",onKeyup:Object(o.L)(c.login,["enter"]),readonly:c.data.isLogoin,placeholder:"请输入手机号","label-width":"1.5rem",label:"手机号"},null,8,["modelValue","onKeyup","readonly"]),Object(o.i)(w,{border:!1},{default:a((function(){return[Object(o.i)(v,{type:"primary",block:"",size:"small",onClick:c.login},{default:a((function(){return[f]})),_:1},8,["onClick"])]})),_:1}),Object(o.i)(w,null,{default:a((function(){return[Object(o.i)(v,{type:"default",block:"",size:"small",to:"/register"},{default:a((function(){return[p]})),_:1})]})),_:1})]})),_:1})])])])})),j=n("5502"),O=n("6c02"),m={setup:function(){var e=Object(o.k)().appContext.config.globalProperties,t=Object(j.b)(),n=Object(O.d)(),i=Object(o.A)({userId:null,isLogoin:!1});return Object(o.t)((function(){t.state.curUserId&&(i.userId=t.state.curUserId,i.isLogoin=!0)})),{data:i,login:function(){if(i.isLogoin)n.push({name:"home"});else{if(!i.userId)return e.$toast("请输入手机号码");if(!t.state.curUserId){var o,c,a=e.$toast.loading({message:"登陆中...",forbidClick:!0,duration:0,loadingType:"spinner"});e.$http.post("user/iminit",{uid:i.userId,ctype:1}).then((function(t){return o=t.data.url,c=t.data.token,e.$msim.login({wsUrl:t.data.url,imToken:t.data.token,subAppId:1})})).then((function(){a.close(),window.localStorage.setItem("userId",i.userId),window.localStorage.setItem("wsUrL",o),window.localStorage.setItem("imToken",c),t.commit("setUserId",i.userId),n.push({name:"chats"})})).catch((function(t){null!=t&&t.msg&&e.$toast(t.msg)}))}}}}}};n("a583");m.render=g,m.__scopeId="data-v-bd6743e8";t.default=m},f717:function(e,t,n){}}]);