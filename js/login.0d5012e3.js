(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"4ffd":function(e,t,n){e.exports=n.p+"img/logo.dc3be0d4.png"},9234:function(e,t,n){"use strict";n("f727")},bef0:function(e,t,n){e.exports=n.p+"img/login_bg.e6f0a1db.jpg"},dd1d:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),i=n("4ffd"),a=n.n(i),c=Object(o["N"])("data-v-aaf58152");Object(o["z"])("data-v-aaf58152");var l={class:"login_wrapper"},s={class:"login_cont"},r=Object(o["i"])("div",{class:"row_div",style:{width:"100%",height:"10px"}},[Object(o["i"])("div",{class:"color_block_1"}),Object(o["i"])("div",{class:"color_block_2"}),Object(o["i"])("div",{class:"color_block_3"})],-1),d=Object(o["i"])("div",{class:"title"},"即时通信",-1),u=Object(o["i"])("img",{src:a.a,class:"logo"},null,-1),b={class:"login_body"},f=Object(o["h"])("登录"),g=Object(o["h"])("注册");Object(o["x"])();var p=c((function(e,t,i,a,p,j){var O=Object(o["D"])("van-image"),m=Object(o["D"])("van-field"),v=Object(o["D"])("van-button"),w=Object(o["D"])("van-cell"),I=Object(o["D"])("van-cell-group");return Object(o["w"])(),Object(o["f"])("div",l,[Object(o["i"])(O,{class:"bg",fit:"cover","lazy-load":"",src:n("bef0")},null,8,["src"]),Object(o["i"])("div",s,[r,d,u,Object(o["i"])("div",b,[Object(o["i"])(I,{inset:""},{default:c((function(){return[Object(o["i"])(m,{modelValue:a.data.userId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.data.userId=e}),type:"tel",onKeyup:Object(o["L"])(a.login,["enter"]),readonly:a.data.isLogoin,placeholder:"请输入手机号","label-width":"1.5rem",maxlength:"11",label:"手机号"},null,8,["modelValue","onKeyup","readonly"]),Object(o["i"])(w,{border:!1},{default:c((function(){return[Object(o["i"])(v,{type:"primary",block:"",size:"small",onClick:a.login},{default:c((function(){return[f]})),_:1},8,["onClick"])]})),_:1}),Object(o["i"])(w,null,{default:c((function(){return[Object(o["i"])(v,{type:"default",block:"",size:"small",to:"/register"},{default:c((function(){return[g]})),_:1})]})),_:1})]})),_:1})])])])})),j=n("5502"),O=n("6c02"),m={setup:function(){var e=Object(o["k"])().appContext.config.globalProperties,t=Object(j["b"])(),n=Object(O["d"])(),i=Object(o["A"])({userId:null,isLogoin:!1});function a(){if(i.isLogoin)n.push({name:"home"});else{if(!i.userId)return e.$toast("请输入手机号码");if(!t.state.curUserId){var o,a,c=e.$toast.loading({message:"登陆中...",forbidClick:!0,duration:0,loadingType:"spinner"});e.$http.post("user/iminit",{uid:i.userId,ctype:1}).then((function(t){return o=t.data.url,a=t.data.token,e.$msim.login({wsUrl:t.data.url,imToken:t.data.token,subAppId:1})})).then((function(){c.close(),window.localStorage.setItem("userId",i.userId),window.localStorage.setItem("wsUrL",o),window.localStorage.setItem("imToken",a),t.commit("setUserId",i.userId),n.push({name:"chats"})})).catch((function(t){null!==t&&void 0!==t&&t.msg&&e.$toast(t.msg)}))}}}return Object(o["t"])((function(){t.state.curUserId&&(i.userId=t.state.curUserId,i.isLogoin=!0)})),{data:i,login:a}}};n("9234");m.render=p,m.__scopeId="data-v-aaf58152";t["default"]=m},f727:function(e,t,n){}}]);